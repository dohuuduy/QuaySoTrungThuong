<tr>
                        <td>${winner.STT}</td>
                        <td>${winner.MaKhachHang}</td>
                        <td>${winner.HoTenKhachHang}</td>
                        <td>${winner.DienThoai}</td>
                        <td>${winner.MaGiaiThuong}</td>
                        <td>${new Date(winner.NgayCapNhat).toLocaleDateString('vi-VN')}</td>
                    </tr>
                `).join('');
            } catch (error) {
                document.getElementById('tongKhachHang').textContent = 'Lỗi';
                document.getElementById('tongMaDuThuong').textContent = 'Lỗi';
                document.getElementById('giaiThuongPhat').textContent = 'Lỗi';
                console.error('Lỗi khi lấy dữ liệu:', error);
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchData();
            
            // Thêm sự kiện làm mới dữ liệu mỗi 5 phút
            setInterval(fetchData, 300000);
        });

        document.getElementById('btnQuaySo').addEventListener('click', function(e) {
            e.preventDefault();
            const loggedIn = localStorage.getItem('isLoggedIn');
            if (!loggedIn) {
                window.location.href = 'Login.html';
            } else {
                window.location.href = 'quay_so_2.html';
            }
        });
    </script>
</body>
</html>
